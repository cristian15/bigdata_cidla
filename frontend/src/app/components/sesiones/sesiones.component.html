<h1>Sesiones Médicas</h1>
<p *ngIf="!cargando">{{sesiones.length}} Sesiones</p>
<div class="d-flex justify-content-center">
    <mat-spinner *ngIf="cargando"></mat-spinner>
</div>

<div *ngIf="!cargando">
    <div class="row">
        <div *ngIf="torta" class="col-6">
            s<!-- Torta -->
            <div class="chart-wrapper">
                <canvas baseChart 
                [data]="pieChartData" 
                [labels]="pieChartLabels" 
                [chartType]="pieChartType"
                [options]="pieChartOptions"
                [plugins]="pieChartPlugins"
                [legend]="pieChartLegend">
              </canvas>
            </div>
        </div>
        <div class="col-6">
            <div class="chart-wrapper">
                <canvas baseChart 
                [datasets]="barChartData"
                [labels]="barChartLabels"
                [options]="barChartOptions"
                [plugins]="barChartPlugins"
                [legend]="barChartLegend"
                [chartType]="barChartType">
              </canvas>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-12">
            <mat-form-field class="example-full-width">
                <mat-label>Buscar</mat-label>
                <input (input)="buscarSesion()" matInput placeholder="Hospital" [(ngModel)]="buscar">
              </mat-form-field>
            <table class="table">
                <thead>
                  <tr>
                    <th scope="col">Nombre Sesión</th>
                    <th scope="col">Fecha</th>
                    <th scope="col">Profesional</th>
                    <th scope="col">Profesion</th>
                    <th scope="col">Centro de salud</th>
                  </tr>
                </thead>
                <tbody *ngIf="sesiones">
                  <tr *ngFor="let s of sesiones_tabla">
                    <td>{{s.nombre_sesion}}</td>
                    <td>{{s.fecha}}</td>
                    <td>{{s.profesional}}</td>
                    <td>{{s.profesion}}</td>
                    <td>{{s.profesion}}</td>
                    <td>{{s.centro_salud}}</td>
                  </tr>
                </tbody>
              </table>
        </div>
    </div>

</div>



